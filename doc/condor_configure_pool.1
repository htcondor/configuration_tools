.TH CONDOR_CONFIGURE_POOL 1 "August 2011" condor-wallaby "User Commands"
.SH NAME
condor_configure_pool \- Create condor specific configurations for nodes in
wallaby
.SH SYNOPSIS
.B condor_configure_pool
[\fIOPTION\fR]... \fIACTION TARGET\fR
.br
.B condor_configure_pool
[\fIOPTION\fR]... \fIACTION TARGET ENTITY\fR...
.SH DESCRIPTION
.PP
condor_configure_pool is a condor specific interface into wallaby.  It
provides a guided interface to applying features and parameters to a node
or a group of nodes.  When editing a node or group the condor_configure_pool
tool uses a text editor to present the node or group metadata in YAML format.

.SH OPTIONS
.SS Options
.TP
\-b, --broker BROKER
The ip/hostname of the broker used by wallaby.
.TP
-o, --port PORT
The port of the broker used by wallaby.
.TP
-U, --user USER
The username used to authenticate with the AMQP broker.
.TP
-P, --password PASSWORD
The password used to authenticate with the AMQP broker.
.TP
-m, --auth-mechanism MECH
A comma separated list of authentication mechanisms to use when communicating
with the broker.  Supported mechanisms are: ANONYMOUS, PLAIN, GSSAPI.
.TP
--schedds
Prompt for scheduler information.
.TP
--qmfbroker
Prompt for QMF broker information.
.TP
-h, --help
Print help.
.TP
-v, --verbose
Print more information, if available.
.SS Action:
Only 1 action is allowed per command invocation.
.TP
-a, --add
Append to the group/node with lowest priority.
.TP
-d, --delete
Remove from the group/node.
.TP
-e, --edit
Edit the group/node.  Unlike other actions, this requires no entities.  If
entities are provided they will be ignored.
.TP
-i, --insert
Insert into the group/node with highest priority.
.TP
-l, --list
List detailed information about the node/group.  Unlike other actions, this
requires no entities.  If entities are provided they will be ignored.
.TP
--activate
Attempt to activate the current configuration in wallaby.
.TP
--load-snapshot NAME
Load snapshot then with the given name from wallaby.
.TP
--take-snapshot NAME
Create a snapshot with the given name from wallaby.
.TP
--remove-snapshot NAME
Remove the snapshot with the given name from wallaby.
.SS Special List Actions:
Unlike regular actions, more than 1 is allowed per command invocation.
However, these can not be mixed with regular actions in a single command
invocation.  These actions do not require a target.
.TP
--list-all-features
List all features in wallaby.
.TP
--list-all-groups
List all groups in wallaby.
.TP
--list-all-nodes
List all nodes in wallaby.
.TP
--list-all-params
List all params in wallaby.
.TP
--list-all-snapshots
List all snapshots in wallaby.
.SS Targets
.TP
--default-group
Perform actions on wallaby's default group.
.TP
-n, --node NAME
The name of a specific node that will have the configuration change
applied to it.
.TP
-g, --group NAME
The name of the group that will have the configuration change applied to it.

NOTE: "Internal Default Group" can be used as the group name to denote
wallaby's default group instead of using --default-group.
.SS Entities
Multiple entities can be acted upon in a single command invocation, and lists
of each entity are separated by commas.  If a name has a comma in it, then
the name will need to be surrounded by escaped quotes (\\").
.TP
-f, --features FEATURE[,FEATURE,...]
A comma separated list of feature names that will be acted upon.
.TP
-p, --params PARAM[,PARAM,...]
A comma separated list of parameter names that will be acted upon.  Values for
the parameters will be prompted for if they are being added.
.SH EXIT STATUS
.PP
The exit status is 0 if the action is performed successfully on all targets
and 1 otherwise.  Failure to find the name of an entity in wallaby is
considered a failure and will return 1.
.SH ENVIRONMENT
EDITOR
.RS
The editor that will be used to edit YAML representations of wallaby entities.
If not defined, vi will be used.
.SH NOTES
Use condor_configure_store to create entities in wallaby
.SH EXAMPLE
.TP
Adding features to a group:
.B condor_configure_pool -a -f FeatureA,FeatureB -g GroupA
.TP
Add features and parameters to the default group:
.B condor_configure_pool --default-group -a -f FeatureA,FeatureB -p ParamA,ParamB
.TP
Listing all of the nodes and features in wallaby:
.B condor_configure_pool --list-all-nodes --list-all-features
.TP
List node details over a secure AMQP broker:
.B condor_configure_pool -U bob -P notsosecure -l -n NodeA
