The condor configuration tools allow configuration of a remote
configuration store and apply configurations to a node, or a group of
nodes, over QMF.  There are two tools involved in configuring condor nodes,
one configures the contents of the configuration store and the other
applies specific configurations to a node or goup of nodes.

condor_configure_store:
The condor_configure_store tool is used to configure the contents of
the configuration store.  Use this tool to configure Parameters, Features,
Groups, Subsystems, and Nodes in the store.

Usage:
condor_configure_store [-h|--help] -b|--broker <broker> [-p|--port <port>] action [-f|--features feature[,feature,...]] [-p|--params param[=1],param2[=string],...] [-n|--nodes hostname,hostname] [-g|--groups group[,group]] [-s|--subsys subsystem[,subsystem]]

condor_configure_pool:
The condor_configure_pool tool is used to apply configurations to a specific
node or a group of nodes.  This tool uses the Parameters, Features, Groups,
and Nodes configured in the configuration store by the condor_configure_store
tool.  Only 1 node or group may be acted upon at a time, but multiple
features and parameters by be added per tool invocation.

Usage:
condor_configure_pool [-h|--help] -b|--broker <broker> [-p|--port <port>] [--load-snapshot|--remove-snapshot <snapshot>] [-g|--group|-n|--node name] action [-f|--features feature[,feature,...]] [-p|--params param1,param2,...]

The currently supported actions are either add, delete, or list.  The add
action is used to add features or parameters to the provided node or
group of nodes, and if any additional parameters are required for the
configuration to be valid then the tool will prompt the user.

In addition, there are a few configuration items that will be prompted for
regardless of which options are being enabled:
Schedulers
QMF Broker Information

The configuration tool will prompt for the list of schedulers the node
should be allowed to submit jobs to.  First it will prompt for the default
scheduler, then for a comma separated list of additional schedulers that the
node should be allowed to submit jobs to.  The valid values for these entries
is either the name of a a High Available Scheduler or the FQDN of
the scheduler(s).

The QMF Broker is the AMQP broker that is used to communicate with the
Management console.  The configuration tool will prompt for the IP/hostname
where the broker is running, as well as the port the broker is listening on.
If no port is provided, the default port (5672) will be used.

The delete action works similarly to the add action, and will prompt to change
the Schedulers and QMF Broker information.  Entering 'n' or not answering
the questions will leave that configuration unchanged.

The configuration tool will then ask if the configuration should be applied.
This is the last chance to abort the operation with no changes being made in
the configuration store.  If 'y' is answered, the tool will being to make the
changes in the configuration store.  If needed, the tool will then prompt
for any additional parameters that are required.

The configuration tool will then prompt to save the configuration.  If 'y'
is answered then the tool will prompt for a configuratio name and generate a
named snapshot in the configuration store with the provided name.

Finally, the configuration tool will ask if the changes should be actived.
If 'y' is answered, the configuration tool will tell the configuration store
to validate the configuration and, if valid, push out the changes to the nodes
in the pool.  If the configuration is not valid, the configuration tool will
notify the user of the problems and then exit.

The list of supported features and usage information can be obtained by
executing:

condor_configure_pool --help

When configuring concurrency limits on HA Central Managers, the same
limits should be configured on all HA Central Managers.


Examples:
To enable a machine named condor_ca.domain.com to be a High Available Central
Manager:
condor_configure_pool -b <broker_ip> -n condor_ca.domain.com -a -f HACentralManager,CentralManager,Collector,Negotiator

To enable a machine name twofer.domain.com to be a Scheduler and an Execute
node:
condor_configure_pool -b <broker_ip> -n twofer.domain.com -a -f Scheduler,ExecuteNode

To remove the Execution functionality from twofer.domain.com:
condor_configure_pool -b <broker_ip> -n twofer.domain.com -d -f ExecuteNode
